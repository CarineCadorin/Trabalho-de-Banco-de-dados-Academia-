<!DOCTYPE html>
<html>
<head>
    <title>Editar Aluno</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>
<body>
    <div class="form-container">
        <h2>Editar Aluno</h2>
        <form action="" method="post">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" value="{{ aluno[1] }}" required>

            <label for="data_nasc">Data de Nascimento:</label>
            <input type="date" id="data_nasc" name="data_nasc" value="{{ aluno[2] }}" required>

            <label for="endereco">Endereço:</label>
            <input type="text" id="endereco" name="endereco" value="{{ aluno[3] }}" required>

            <label for="telefone">Telefone:</label>
            <input type="text" id="telefone" name="telefone" value="{{ aluno[4] }}" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="{{ aluno[5] }}" required>

            <label for="data_inicio">Data de Início:</label>
            <input type="date" id="data_inicio" name="data_inicio" value="{{ aluno[6] }}" required>

            <label for="status">Status:</label>
            <input type="text" id="status" name="status" value="{{ aluno[7] }}" required>

            <button type="submit">Atualizar Aluno</button>
        </form>

        <!-- Botão para excluir aluno -->
        <button id="btn-excluir" class="delete-button">Excluir Aluno</button>

        <a href="{{ url_for('outra_tela') }}" class="button-link">Cancelar</a>
    </div>

    <!-- Modal de confirmação de exclusão -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('btn-excluir').addEventListener('click', function() {
                Swal.fire({
                    title: 'Tem certeza?',
                    text: "Você deseja excluir este aluno?",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#d33',
                    cancelButtonColor: '#3085d6',
                    confirmButtonText: 'Sim',
                    cancelButtonText: 'Não'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Redirecionar para rota de exclusão
                        window.location.href = "{{ url_for('excluir_aluno', aluno_id=aluno[0]) }}";
                    }
                });
            });
        });
    </script>
</body>
</html>
